<!doctype html><html itemscope itemtype=http://schema.org/WebPage lang=en class=no-js><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><link rel="shortcut icon" href=/favicons/favicon.ico><link rel=apple-touch-icon href=/favicons/apple-touch-icon.png sizes=180x180><link rel=icon type=image/png href=/favicons/favicon.png><title>ClusterStagedUpdateRun TSG | KubeFleet</title>
<meta name=description content="Identify and fix KubeFleet issues associated with the ClusterStagedUpdateRun API"><meta property="og:url" content="https://kubefleet.dev/docs/troubleshooting/clusterstagedupdaterun/"><meta property="og:site_name" content="KubeFleet"><meta property="og:title" content="ClusterStagedUpdateRun TSG"><meta property="og:description" content="Identify and fix KubeFleet issues associated with the ClusterStagedUpdateRun API"><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="article:section" content="docs"><meta itemprop=name content="ClusterStagedUpdateRun TSG"><meta itemprop=description content="Identify and fix KubeFleet issues associated with the ClusterStagedUpdateRun API"><meta itemprop=wordCount content="1583"><meta name=twitter:card content="summary"><meta name=twitter:title content="ClusterStagedUpdateRun TSG"><meta name=twitter:description content="Identify and fix KubeFleet issues associated with the ClusterStagedUpdateRun API"><link rel=preload href=/scss/main.min.9dbd381173ff32a411282c4d4c12047d289d581adc6a714308894ed3662001cb.css as=style><link href=/scss/main.min.9dbd381173ff32a411282c4d4c12047d289d581adc6a714308894ed3662001cb.css rel=stylesheet integrity><script src=https://code.jquery.com/jquery-3.7.1.min.js integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin=anonymous></script><script defer src=https://unpkg.com/lunr@2.3.9/lunr.min.js integrity=sha384-203J0SNzyqHby3iU6hzvzltrWi/M41wOP5Gu+BiJMz5nwKykbkUx8Kp7iti0Lpli crossorigin=anonymous></script></head><body class=td-page><header><nav class="td-navbar js-navbar-scroll" data-bs-theme=dark><div class="container-fluid flex-column flex-md-row"><a class=navbar-brand href=/><span class="navbar-brand__logo navbar-logo"><svg role="img" viewBox="119.76 200.76 1260.48 1098.48"><title>KubeFleet</title><defs><style>.cls-1{fill:#fff}</style></defs><path d="M629.63 844.46l-38.9-153.8 159.83-68.71 157.8 69.9-38.54 151.84-240.19.77z" class="cls-1"/><path d="M885.25 551.34V658.4l-132.84-57.93-137.55 60.04c-3.05 2.43-2.87-7.86-2.87-9.6v-99.56h273.26zm-29.07-79.23c.97.77-1.94 2.76-1.94 3.21v59.95c0 .65 2.45 1.64 1.94 3.21H643c-.52-1.57 1.94-2.56 1.94-3.21v-59.95c0-.65-2.45-1.64-1.94-3.21h213.18zm-155.04-55.67h98.84v44.96h-98.84zm461.95 323.44-26.99 103.81-199.43.71-27.45-103.41 127.01-56.75 126.86 55.64z" class="cls-1"/><path d="M1143.78 632.7v79.22l-107.54-45.11-111.45 47.23c-.95-.79 1.94-2.73 1.94-3.19v-74.94c0-.65-2.45-1.64-1.94-3.21h218.99zm-25.19-66.37v53.53H951.92V567.4l2.91-2.75c.79-.06 1.46 1.68 1.94 1.68h161.82zm-36.82-47.11v36.4h-93.02c3.3-10.04 2.69-22.86.47-33.28l2.44-3.12h90.12zm-488 220.56L563.8 844.83l-198.53-.37-27.36-103.47 126.64-56.36 129.22 55.15z" class="cls-1"/><path d="M574.38 632.7c.97.77-1.94 2.76-1.94 3.21v76.01l-107.52-45.13-107.6 47.27V632.7h217.05zm-25.19-68.52v55.67H382.52c-.52-1.57 1.94-2.56 1.94-3.21v-47.11c0-.54-2.29-1.71-1.12-3.24l5.88-2.22 159.97.1zm-127.91-44.96h91.09v36.4h-91.09z" class="cls-1"/><path d="M1053.6 225.51H447.4L144.3 750.5l303.1 524.99h606.2l303.1-524.99-303.1-524.99zm-31.06 996.17H478.47L206.44 750.5l272.03-471.18h544.07l272.03 471.18-272.03 471.18z" class="cls-1"/><path d="M265.07 901.28h973.01v53.81H265.07zm76.07 117.64h815v53.81h-815zm63.73 112.59h682.56v53.81H404.87z" class="cls-1"/></svg></span><span class=navbar-brand__name>KubeFleet</span></a><div class="td-navbar-nav-scroll ms-md-auto" id=main_navbar><ul class=navbar-nav><li class=nav-item><a class="nav-link active" href=/docs/><span>Docs</span></a></li><li class="nav-item dropdown d-none d-lg-block"><div class=dropdown><a class="nav-link dropdown-toggle" href=# role=button data-bs-toggle=dropdown aria-haspopup=true aria-expanded=false>English</a><ul class=dropdown-menu><li><a class=dropdown-item href=/zh-cn/>中文（简体）</a></li></ul></div></li></ul></div><div class="d-none d-lg-block"><div class="td-search td-search--offline"><div class=td-search__icon></div><input type=search class="td-search__input form-control" placeholder="Search this site…" aria-label="Search this site…" autocomplete=off data-offline-search-index-json-src=/offline-search-index.0da800b108c9dafb2c9df58e456b44f6.json data-offline-search-base-href=/ data-offline-search-max-results=10></div></div></div></nav></header><div class="container-fluid td-outer"><div class=td-main><div class="row flex-xl-nowrap"><aside class="col-12 col-md-3 col-xl-2 td-sidebar d-print-none"><div id=td-sidebar-menu class=td-sidebar__inner><form class="td-sidebar__search d-flex align-items-center"><div class="td-search td-search--offline"><div class=td-search__icon></div><input type=search class="td-search__input form-control" placeholder="Search this site…" aria-label="Search this site…" autocomplete=off data-offline-search-index-json-src=/offline-search-index.0da800b108c9dafb2c9df58e456b44f6.json data-offline-search-base-href=/ data-offline-search-max-results=10></div><button class="btn btn-link td-sidebar__toggle d-md-none p-0 ms-3 fas fa-bars" type=button data-bs-toggle=collapse data-bs-target=#td-section-nav aria-controls=td-section-nav aria-expanded=false aria-label="Toggle section navigation"></button></form><nav class="td-sidebar-nav collapse" id=td-section-nav><div class="td-sidebar-nav__section nav-item dropdown d-block d-lg-none"><div class=dropdown><a class="nav-link dropdown-toggle" href=# role=button data-bs-toggle=dropdown aria-haspopup=true aria-expanded=false>English</a><ul class=dropdown-menu><li><a class=dropdown-item href=/zh-cn/>中文（简体）</a></li></ul></div></div><ul class="td-sidebar-nav__section pe-md-3 ul-0"><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id=m-docs-li><a href=/docs/ title="Welcome to KubeFleet Documentation" class="align-left ps-0 td-sidebar-link td-sidebar-link__section tree-root" id=m-docs><span>Docs</span></a><ul class=ul-1><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-docsconcepts-li><a href=/docs/concepts/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-docsconcepts><span>Concepts</span></a><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsconceptscomponents-li><a href=/docs/concepts/components/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docsconceptscomponents><span>Fleet components</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsconceptsmembercluster-li><a href=/docs/concepts/membercluster/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docsconceptsmembercluster><span>MemberCluster</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsconceptscrp-li><a href=/docs/concepts/crp/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docsconceptscrp><span>ClusterResourcePlacement</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsconceptsrp-li><a href=/docs/concepts/rp/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docsconceptsrp><span>ResourcePlacement</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsconceptsscheduler-li><a href=/docs/concepts/scheduler/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docsconceptsscheduler><span>Scheduler</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsconceptsscheduling-framework-li><a href=/docs/concepts/scheduling-framework/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docsconceptsscheduling-framework><span>Scheduling Framework</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsconceptsproperties-li><a href=/docs/concepts/properties/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docsconceptsproperties><span>Properties and Property Provides</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsconceptssafe-rollout-li><a href=/docs/concepts/safe-rollout/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docsconceptssafe-rollout><span>Safe Rollout</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsconceptsoverride-li><a href=/docs/concepts/override/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docsconceptsoverride><span>Override</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsconceptsstaged-update-li><a href=/docs/concepts/staged-update/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docsconceptsstaged-update><span>Staged Update</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsconceptseviction-pdb-li><a href=/docs/concepts/eviction-pdb/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docsconceptseviction-pdb><span>Eviction and Placement Disruption Budget</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-docsgetting-started-li><a href=/docs/getting-started/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-docsgetting-started><span>Getting Started</span></a><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsgetting-startedkind-li><a href=/docs/getting-started/kind/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docsgetting-startedkind><span>Getting started with Fleet using KinD clusters</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsgetting-startedon-prem-li><a href=/docs/getting-started/on-prem/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docsgetting-startedon-prem><span>Getting started with Fleet using on-premises clusters</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-docshow-tos-li><a href=/docs/how-tos/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-docshow-tos><span>How-To Guides</span></a><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshow-tosclusters-li><a href=/docs/how-tos/clusters/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docshow-tosclusters><span>Managing clusters</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshow-toscrp-li><a href=/docs/how-tos/crp/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docshow-toscrp><span>Using the ClusterResourcePlacement API</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshow-tosrp-li><a href=/docs/how-tos/rp/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docshow-tosrp><span>Using the ResourcePlacement API</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshow-tosaffinities-li><a href=/docs/how-tos/affinities/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docshow-tosaffinities><span>Using Affinity to Pick Clusters</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshow-tostopology-spread-constraints-li><a href=/docs/how-tos/topology-spread-constraints/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docshow-tostopology-spread-constraints><span>Using Topology Spread Constraints to Spread Resources</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshow-tosproperty-based-scheduling-li><a href=/docs/how-tos/property-based-scheduling/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docshow-tosproperty-based-scheduling><span>Using Property-Based Scheduling</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshow-tostaints-tolerations-li><a href=/docs/how-tos/taints-tolerations/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docshow-tostaints-tolerations><span>Using Taints and Tolerations</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshow-toscluster-resource-override-li><a href=/docs/how-tos/cluster-resource-override/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docshow-toscluster-resource-override><span>Using the ClusterResourceOverride API</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshow-tosresource-override-li><a href=/docs/how-tos/resource-override/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docshow-tosresource-override><span>Using the ResourceOverride API</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshow-tosenvelope-object-li><a href=/docs/how-tos/envelope-object/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docshow-tosenvelope-object><span>Using Envelope Objects to Place Resources</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshow-tostakeover-li><a href=/docs/how-tos/takeover/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docshow-tostakeover><span>Controlling How Fleet Handles Pre-Existing Resources</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshow-tosdrift-detection-li><a href=/docs/how-tos/drift-detection/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docshow-tosdrift-detection><span>Enabling Drift Detection in Fleet</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshow-tosreportdiff-li><a href=/docs/how-tos/reportdiff/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docshow-tosreportdiff><span>Using the ReportDiff Apply Mode</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshow-tosstaged-update-li><a href=/docs/how-tos/staged-update/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docshow-tosstaged-update><span>How to Roll Out and Roll Back Changes in Stage</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshow-toseviction-disruption-budget-li><a href=/docs/how-tos/eviction-disruption-budget/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docshow-toseviction-disruption-budget><span>Evicting Resources and Setting up Disruption Budgets</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshow-tosai-job-scheduling-kueue-integration-li><a href=/docs/how-tos/ai-job-scheduling-kueue-integration/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docshow-tosai-job-scheduling-kueue-integration><span>Scheduling AI Jobs with Kueue and Fleet</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-docstutorials-li><a href=/docs/tutorials/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-docstutorials><span>Tutorials</span></a><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docstutorialsclustermigrationdr-li><a href=/docs/tutorials/clustermigrationdr/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docstutorialsclustermigrationdr><span>Resource Migration Across Clusters</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docstutorialsmigrationwithoverridedr-li><a href=/docs/tutorials/migrationwithoverridedr/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docstutorialsmigrationwithoverridedr><span>Resource Migration With Overrides</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docstutorialsargocd-li><a href=/docs/tutorials/argocd/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docstutorialsargocd><span>KubeFleet and ArgoCD Integration</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id=m-docstroubleshooting-li><a href=/docs/troubleshooting/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-docstroubleshooting><span>Troubleshooting Guides</span></a><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docstroubleshootingclusterresourceplacement-li><a href=/docs/troubleshooting/clusterresourceplacement/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docstroubleshootingclusterresourceplacement><span>ClusterResourcePlacement TSG</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docstroubleshootingclusterresourceplacementscheduled-li><a href=/docs/troubleshooting/clusterresourceplacementscheduled/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docstroubleshootingclusterresourceplacementscheduled><span>CRP Schedule Failure TSG</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docstroubleshootingclusterresourceplacementrolloutstarted-li><a href=/docs/troubleshooting/clusterresourceplacementrolloutstarted/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docstroubleshootingclusterresourceplacementrolloutstarted><span>CRP Rollout Failure TSG</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docstroubleshootingclusterresourceplacementoverridden-li><a href=/docs/troubleshooting/clusterresourceplacementoverridden/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docstroubleshootingclusterresourceplacementoverridden><span>CRP Override Failure TSG</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docstroubleshootingclusterresourceplacementworksynchronized-li><a href=/docs/troubleshooting/clusterresourceplacementworksynchronized/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docstroubleshootingclusterresourceplacementworksynchronized><span>CRP Work-Synchronization Failure TSG</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docstroubleshootingclusterresourceplacementapplied-li><a href=/docs/troubleshooting/clusterresourceplacementapplied/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docstroubleshootingclusterresourceplacementapplied><span>CRP Work-Application Failure TSG</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docstroubleshootingclusterresourceplacementavailable-li><a href=/docs/troubleshooting/clusterresourceplacementavailable/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docstroubleshootingclusterresourceplacementavailable><span>CRP Availability Failure TSG</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docstroubleshootingdriftanddiffdetection-li><a href=/docs/troubleshooting/driftanddiffdetection/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docstroubleshootingdriftanddiffdetection><span>CRP Drift Detection and Configuration Difference Check Unexpected Result TSG</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docstroubleshootingclusterresourceplacementdiffreported-li><a href=/docs/troubleshooting/clusterresourceplacementdiffreported/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docstroubleshootingclusterresourceplacementdiffreported><span>CRP Diff Reporting Failure TSG</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child active-path" id=m-docstroubleshootingclusterstagedupdaterun-li><a href=/docs/troubleshooting/clusterstagedupdaterun/ class="align-left ps-0 active td-sidebar-link td-sidebar-link__page" id=m-docstroubleshootingclusterstagedupdaterun><span class=td-sidebar-nav-active-item>ClusterStagedUpdateRun TSG</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docstroubleshootingclusterresourceplacementeviction-li><a href=/docs/troubleshooting/clusterresourceplacementeviction/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docstroubleshootingclusterresourceplacementeviction><span>ClusterResourcePlacementEviction TSG</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsfaq-li><a href=/docs/faq/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-docsfaq><span>Frequently Asked Questions</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-docsapi-reference-li><a href=/docs/api-reference/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-docsapi-reference><span>API Reference</span></a><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsapi-referenceclusterkubernetes-fleetiov1-li><a href=/docs/api-reference/cluster.kubernetes-fleet.io/v1/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docsapi-referenceclusterkubernetes-fleetiov1><span>API Reference</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsapi-referenceclusterkubernetes-fleetiov1beta1-li><a href=/docs/api-reference/cluster.kubernetes-fleet.io/v1beta1/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docsapi-referenceclusterkubernetes-fleetiov1beta1><span>API Reference</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsapi-referenceplacementkubernetes-fleetiov1-li><a href=/docs/api-reference/placement.kubernetes-fleet.io/v1/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docsapi-referenceplacementkubernetes-fleetiov1><span>API Reference</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsapi-referenceplacementkubernetes-fleetiov1beta1-li><a href=/docs/api-reference/placement.kubernetes-fleet.io/v1beta1/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docsapi-referenceplacementkubernetes-fleetiov1beta1><span>API Reference</span></a></li></ul></li></ul></li></ul></nav></div></aside><aside class="d-none d-xl-block col-xl-2 td-sidebar-toc d-print-none"><div class="td-page-meta ms-2 pb-1 pt-2 mb-0"><a href=https://github.com/kubefleet-dev/website/tree/main/content/en/docs/troubleshooting/ClusterStagedUpdateRun.md class="td-page-meta--view td-page-meta__view" target=_blank rel=noopener><i class="fa-solid fa-file-lines fa-fw"></i> View page source</a>
<a href=https://github.com/kubefleet-dev/website/edit/main/content/en/docs/troubleshooting/ClusterStagedUpdateRun.md class="td-page-meta--edit td-page-meta__edit" target=_blank rel=noopener><i class="fa-solid fa-pen-to-square fa-fw"></i> Edit this page</a>
<a href="https://github.com/kubefleet-dev/website/new/main/content/en/docs/troubleshooting?filename=change-me.md&amp;value=---%0Atitle%3A+%22Long+Page+Title%22%0AlinkTitle%3A+%22Short+Nav+Title%22%0Aweight%3A+100%0Adescription%3A+%3E-%0A+++++Page+description+for+heading+and+indexes.%0A---%0A%0A%23%23+Heading%0A%0AEdit+this+template+to+create+your+new+page.%0A%0A%2A+Give+it+a+good+name%2C+ending+in+%60.md%60+-+e.g.+%60getting-started.md%60%0A%2A+Edit+the+%22front+matter%22+section+at+the+top+of+the+page+%28weight+controls+how+its+ordered+amongst+other+pages+in+the+same+directory%3B+lowest+number+first%29.%0A%2A+Add+a+good+commit+message+at+the+bottom+of+the+page+%28%3C80+characters%3B+use+the+extended+description+field+for+more+detail%29.%0A%2A+Create+a+new+branch+so+you+can+preview+your+new+file+and+request+a+review+via+Pull+Request.%0A" class="td-page-meta--child td-page-meta__child" target=_blank rel=noopener><i class="fa-solid fa-pen-to-square fa-fw"></i> Create child page</a>
<a href="https://github.com/kubefleet-dev/website/issues/new?title=ClusterStagedUpdateRun%20TSG" class="td-page-meta--issue td-page-meta__issue" target=_blank rel=noopener><i class="fa-solid fa-list-check fa-fw"></i> Create documentation issue</a>
<a href=https://github.com/kubefleet-dev/kubefleet/issues/new class="td-page-meta--project td-page-meta__project-issue" target=_blank rel=noopener><i class="fa-solid fa-list-check fa-fw"></i> Create project issue</a>
<a id=print href=/docs/troubleshooting/_print/><i class="fa-solid fa-print fa-fw"></i> Print entire section</a></div><div class=td-toc><nav id=TableOfContents><ul><li><a href=#crp-status-without-staged-update-run>CRP status without Staged Update Run</a></li><li><a href=#investigate-clusterstagedupdaterun-initialization-failure>Investigate ClusterStagedUpdateRun initialization failure</a></li><li><a href=#investigate-clusterstagedupdaterun-execution-failure>Investigate ClusterStagedUpdateRun execution failure</a></li><li><a href=#investigate-clusterstagedupdaterun-rollout-stuck>Investigate ClusterStagedUpdateRun rollout stuck</a></li></ul></nav></div></aside><main class="col-12 col-md-9 col-xl-8 ps-md-5" role=main><nav aria-label=breadcrumb class=td-breadcrumbs><ol class=breadcrumb><li class=breadcrumb-item><a href=/docs/>Docs</a></li><li class=breadcrumb-item><a href=/docs/troubleshooting/>Troubleshooting Guides</a></li><li class="breadcrumb-item active" aria-current=page>ClusterStagedUpdateRun TSG</li></ol></nav><div class=td-content><h1>ClusterStagedUpdateRun TSG</h1><div class=lead>Identify and fix KubeFleet issues associated with the ClusterStagedUpdateRun API</div><header class=article-meta></header><p>This guide provides troubleshooting steps for common issues related to Staged Update Run.</p><blockquote><p>Note: To get more information about why the scheduling fails, you can check the <a href=https://github.com/kubefleet-dev/kubefleet/blob/main/pkg/controllers/updaterun/controller.go>updateRun controller</a> logs.</p></blockquote><h2 id=crp-status-without-staged-update-run>CRP status without Staged Update Run</h2><p>When a <code>ClusterResourcePlacement</code> is created with <code>spec.strategy.type</code> set to <code>External</code>, the rollout does not start immediately.</p><p>A sample status of such <code>ClusterResourcePlacement</code> is as follows:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>$ kubectl describe crp example-placement
</span></span><span style=display:flex><span>...
</span></span><span style=display:flex><span>Status:
</span></span><span style=display:flex><span>  Conditions:
</span></span><span style=display:flex><span>    Last Transition Time:   2025-03-12T23:01:32Z
</span></span><span style=display:flex><span>    Message:                found all cluster needed as specified by the scheduling policy, found <span style=color:#0000cf;font-weight:700>2</span> cluster<span style=color:#ce5c00;font-weight:700>(</span>s<span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>    Observed Generation:    <span style=color:#0000cf;font-weight:700>1</span>
</span></span><span style=display:flex><span>    Reason:                 SchedulingPolicyFulfilled
</span></span><span style=display:flex><span>    Status:                 True
</span></span><span style=display:flex><span>    Type:                   ClusterResourcePlacementScheduled
</span></span><span style=display:flex><span>    Last Transition Time:   2025-03-12T23:01:32Z
</span></span><span style=display:flex><span>    Message:                There are still <span style=color:#0000cf;font-weight:700>2</span> cluster<span style=color:#ce5c00;font-weight:700>(</span>s<span style=color:#ce5c00;font-weight:700>)</span> in the process of deciding whether to roll out the latest resources or not
</span></span><span style=display:flex><span>    Observed Generation:    <span style=color:#0000cf;font-weight:700>1</span>
</span></span><span style=display:flex><span>    Reason:                 RolloutStartedUnknown
</span></span><span style=display:flex><span>    Status:                 Unknown
</span></span><span style=display:flex><span>    Type:                   ClusterResourcePlacementRolloutStarted
</span></span><span style=display:flex><span>  Observed Resource Index:  <span style=color:#0000cf;font-weight:700>0</span>
</span></span><span style=display:flex><span>  Placement Statuses:
</span></span><span style=display:flex><span>    Cluster Name:  member1
</span></span><span style=display:flex><span>    Conditions:
</span></span><span style=display:flex><span>      Last Transition Time:  2025-03-12T23:01:32Z
</span></span><span style=display:flex><span>      Message:               Successfully scheduled resources <span style=color:#204a87;font-weight:700>for</span> placement in <span style=color:#4e9a06>&#34;member1&#34;</span> <span style=color:#ce5c00;font-weight:700>(</span>affinity score: 0, topology spread score: 0<span style=color:#ce5c00;font-weight:700>)</span>: picked by scheduling policy
</span></span><span style=display:flex><span>      Observed Generation:   <span style=color:#0000cf;font-weight:700>1</span>
</span></span><span style=display:flex><span>      Reason:                Scheduled
</span></span><span style=display:flex><span>      Status:                True
</span></span><span style=display:flex><span>      Type:                  Scheduled
</span></span><span style=display:flex><span>      Last Transition Time:  2025-03-12T23:01:32Z
</span></span><span style=display:flex><span>      Message:               In the process of deciding whether to roll out the latest resources or not
</span></span><span style=display:flex><span>      Observed Generation:   <span style=color:#0000cf;font-weight:700>1</span>
</span></span><span style=display:flex><span>      Reason:                RolloutStartedUnknown
</span></span><span style=display:flex><span>      Status:                Unknown
</span></span><span style=display:flex><span>      Type:                  RolloutStarted
</span></span><span style=display:flex><span>    Cluster Name:            member2
</span></span><span style=display:flex><span>    Conditions:
</span></span><span style=display:flex><span>      Last Transition Time:  2025-03-12T23:01:32Z
</span></span><span style=display:flex><span>      Message:               Successfully scheduled resources <span style=color:#204a87;font-weight:700>for</span> placement in <span style=color:#4e9a06>&#34;member2&#34;</span> <span style=color:#ce5c00;font-weight:700>(</span>affinity score: 0, topology spread score: 0<span style=color:#ce5c00;font-weight:700>)</span>: picked by scheduling policy
</span></span><span style=display:flex><span>      Observed Generation:   <span style=color:#0000cf;font-weight:700>1</span>
</span></span><span style=display:flex><span>      Reason:                Scheduled
</span></span><span style=display:flex><span>      Status:                True
</span></span><span style=display:flex><span>      Type:                  Scheduled
</span></span><span style=display:flex><span>      Last Transition Time:  2025-03-12T23:01:32Z
</span></span><span style=display:flex><span>      Message:               In the process of deciding whether to roll out the latest resources or not
</span></span><span style=display:flex><span>      Observed Generation:   <span style=color:#0000cf;font-weight:700>1</span>
</span></span><span style=display:flex><span>      Reason:                RolloutStartedUnknown
</span></span><span style=display:flex><span>      Status:                Unknown
</span></span><span style=display:flex><span>      Type:                  RolloutStarted
</span></span><span style=display:flex><span>  Selected Resources:
</span></span><span style=display:flex><span>    ...
</span></span><span style=display:flex><span>Events:         &lt;none&gt;
</span></span></code></pre></div><p><code>SchedulingPolicyFulfilled</code> condition indicates the CRP has been fully scheduled, while <code>RolloutStartedUnknown</code> condition shows that the rollout has not started.</p><p>In the <code>Placement Statuses</code> section, it displays the detailed status of each cluster. Both selected clusters are in the <code>Scheduled</code> state, but the <code>RolloutStarted</code> condition is still <code>Unknown</code> because the rollout has not kicked off yet.</p><h2 id=investigate-clusterstagedupdaterun-initialization-failure>Investigate ClusterStagedUpdateRun initialization failure</h2><p>An updateRun initialization failure can be easily detected by getting the resource:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>$ kubectl get csur example-run 
</span></span><span style=display:flex><span>NAME          PLACEMENT           RESOURCE-SNAPSHOT-INDEX   POLICY-SNAPSHOT-INDEX   INITIALIZED   SUCCEEDED   AGE
</span></span><span style=display:flex><span>example-run   example-placement   <span style=color:#0000cf;font-weight:700>1</span>                         <span style=color:#0000cf;font-weight:700>0</span>                       False                     2s
</span></span></code></pre></div><p>The <code>INITIALIZED</code> field is <code>False</code>, indicating the initialization failed.</p><p>Describe the updateRun to get more details:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>$ kubectl describe csur example-run
</span></span><span style=display:flex><span>...
</span></span><span style=display:flex><span>Status:
</span></span><span style=display:flex><span>  Conditions:
</span></span><span style=display:flex><span>    Last Transition Time:  2025-03-13T07:28:29Z
</span></span><span style=display:flex><span>    Message:               cannot <span style=color:#204a87;font-weight:700>continue</span> the ClusterStagedUpdateRun: failed to initialize the clusterStagedUpdateRun: failed to process the request due to a client error: no clusterResourceSnapshots with index <span style=color:#4e9a06>`</span>1<span style=color:#4e9a06>`</span> found <span style=color:#204a87;font-weight:700>for</span> clusterResourcePlacement <span style=color:#4e9a06>`</span>example-placement<span style=color:#4e9a06>`</span>
</span></span><span style=display:flex><span>    Observed Generation:   <span style=color:#0000cf;font-weight:700>1</span>
</span></span><span style=display:flex><span>    Reason:                UpdateRunInitializedFailed
</span></span><span style=display:flex><span>    Status:                False
</span></span><span style=display:flex><span>    Type:                  Initialized
</span></span><span style=display:flex><span>  Deletion Stage Status:
</span></span><span style=display:flex><span>    Clusters:
</span></span><span style=display:flex><span>    Stage Name:                   kubernetes-fleet.io/deleteStage
</span></span><span style=display:flex><span>  Policy Observed Cluster Count:  <span style=color:#0000cf;font-weight:700>2</span>
</span></span><span style=display:flex><span>  Policy Snapshot Index Used:     <span style=color:#0000cf;font-weight:700>0</span>
</span></span><span style=display:flex><span>...
</span></span></code></pre></div><p>The condition clearly indicates the initialization failed. And the condition message gives more details about the failure.
In this case, I used a not-existing resource snapshot index <code>1</code> for the updateRun.</p><h2 id=investigate-clusterstagedupdaterun-execution-failure>Investigate ClusterStagedUpdateRun execution failure</h2><p>An updateRun execution failure can be easily detected by getting the resource:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>$ kubectl get csur example-run
</span></span><span style=display:flex><span>NAME          PLACEMENT           RESOURCE-SNAPSHOT-INDEX   POLICY-SNAPSHOT-INDEX   INITIALIZED   SUCCEEDED   AGE
</span></span><span style=display:flex><span>example-run   example-placement   <span style=color:#0000cf;font-weight:700>0</span>                         <span style=color:#0000cf;font-weight:700>0</span>                       True          False       24m
</span></span></code></pre></div><p>The <code>SUCCEEDED</code> field is <code>False</code>, indicating the execution failure.</p><p>An updateRun execution failure can be caused by mainly 2 scenarios:</p><ol><li>When the updateRun controller is triggered to reconcile an in-progress updateRun, it starts by doing a bunch of validations
including retrieving the CRP and checking its rollout strategy, gathering all the bindings and regenerating the execution plan.
If any failure happens during validation, the updateRun execution fails with the corresponding validation error.<pre tabindex=0><code>status:
  conditions:
  - lastTransitionTime: &#34;2025-05-13T21:11:06Z&#34;
    message: ClusterStagedUpdateRun initialized successfully
    observedGeneration: 1
    reason: UpdateRunInitializedSuccessfully
    status: &#34;True&#34;
    type: Initialized
  - lastTransitionTime: &#34;2025-05-13T21:11:21Z&#34;
    message: The stages are aborted due to a non-recoverable error
    observedGeneration: 1
    reason: UpdateRunFailed
    status: &#34;False&#34;
    type: Progressing
  - lastTransitionTime: &#34;2025-05-13T22:15:23Z&#34;
    message: &#39;cannot continue the ClusterStagedUpdateRun: failed to initialize the
      clusterStagedUpdateRun: failed to process the request due to a client error:
      parent clusterResourcePlacement not found&#39;
    observedGeneration: 1
    reason: UpdateRunFailed
    status: &#34;False&#34;
    type: Succeeded
</code></pre>In above case, the CRP referenced by the updateRun is deleted during the execution. The updateRun controller detects and aborts the release.</li><li>The updateRun controller triggers update to a member cluster by updating the corresponding binding spec and setting its
status to <code>RolloutStarted</code>. It then waits for default 15 seconds and check whether the resources have been successfully applied
by checking the binding again. In case that there are multiple concurrent updateRuns, and during the 15-second wait, some other
updateRun preempts and updates the binding with new configuration, current updateRun detects and fails with clear error message.<pre tabindex=0><code>status:
 conditions:
 - lastTransitionTime: &#34;2025-05-13T21:10:58Z&#34;
   message: ClusterStagedUpdateRun initialized successfully
   observedGeneration: 1
   reason: UpdateRunInitializedSuccessfully
   status: &#34;True&#34;
   type: Initialized
 - lastTransitionTime: &#34;2025-05-13T21:11:13Z&#34;
   message: The stages are aborted due to a non-recoverable error
   observedGeneration: 1
   reason: UpdateRunFailed
   status: &#34;False&#34;
   type: Progressing
 - lastTransitionTime: &#34;2025-05-13T21:11:13Z&#34;
   message: &#39;cannot continue the ClusterStagedUpdateRun: unexpected behavior which
     cannot be handled by the controller: the clusterResourceBinding of the updating
     cluster `member1` in the stage `staging` does not have expected status: binding
     spec diff: binding has different resourceSnapshotName, want: example-placement-0-snapshot,
     got: example-placement-1-snapshot; binding state (want Bound): Bound; binding
     RolloutStarted (want true): true, please check if there is concurrent clusterStagedUpdateRun&#39;
   observedGeneration: 1
   reason: UpdateRunFailed
   status: &#34;False&#34;
   type: Succeeded
</code></pre>The <code>Succeeded</code> condition is set to <code>False</code> with reason <code>UpdateRunFailed</code>. In the <code>message</code>, we show <code>member1</code> cluster in <code>staging</code> stage gets preempted, and the <code>resourceSnapshotName</code> field is changed from <code>example-placement-0-snapshot</code> to <code>example-placement-1-snapshot</code> which means probably some other updateRun is rolling out a newer resource version. The message also prints current binding state and if <code>RolloutStarted</code> condition is set to true. The message gives a hint about whether these is a concurrent clusterStagedUpdateRun running. Upon such failure, the user can list updateRuns or check the binding state:<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>kubectl get clusterresourcebindings
</span></span><span style=display:flex><span>NAME                                 WORKSYNCHRONIZED   RESOURCESAPPLIED   AGE
</span></span><span style=display:flex><span>example-placement-member1-2afc7d7f   True               True               51m
</span></span><span style=display:flex><span>example-placement-member2-fc081413                                         51m
</span></span></code></pre></div>The binding is named as <code>&lt;crp-name>-&lt;cluster-name>-&lt;suffix></code>. Since the error message says <code>member1</code> cluster fails the updateRun, we can check its binding:<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>kubectl get clusterresourcebindings example-placement-member1-2afc7d7f -o yaml
</span></span><span style=display:flex><span>...
</span></span><span style=display:flex><span>spec:
</span></span><span style=display:flex><span>  ...
</span></span><span style=display:flex><span>  resourceSnapshotName: example-placement-1-snapshot
</span></span><span style=display:flex><span>  schedulingPolicySnapshotName: example-placement-0
</span></span><span style=display:flex><span>  state: Bound
</span></span><span style=display:flex><span>  targetCluster: member1
</span></span><span style=display:flex><span>status:
</span></span><span style=display:flex><span>  conditions:
</span></span><span style=display:flex><span>  - lastTransitionTime: <span style=color:#4e9a06>&#34;2025-05-13T21:11:06Z&#34;</span>
</span></span><span style=display:flex><span>    message: <span style=color:#4e9a06>&#39;Detected the new changes on the resources and started the rollout process,
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>      resourceSnapshotIndex: 1, clusterStagedUpdateRun: example-run-1&#39;</span>
</span></span><span style=display:flex><span>    observedGeneration: <span style=color:#0000cf;font-weight:700>3</span>
</span></span><span style=display:flex><span>    reason: RolloutStarted
</span></span><span style=display:flex><span>    status: <span style=color:#4e9a06>&#34;True&#34;</span>
</span></span><span style=display:flex><span>    type: RolloutStarted
</span></span><span style=display:flex><span>  ...
</span></span></code></pre></div>As the binding <code>RolloutStarted</code> condition shows, it&rsquo;s updated by another updateRun <code>example-run-1</code>.</li></ol><p>The updateRun abortion due to execution failures is not recoverable at the moment. If failure happens due to validation error,
one can fix the issue and create a new updateRun. If preemption happens, in most cases the user is releasing a new resource
version, and they can just let the new updateRun run to complete.</p><h2 id=investigate-clusterstagedupdaterun-rollout-stuck>Investigate ClusterStagedUpdateRun rollout stuck</h2><p>A <code>ClusterStagedUpdateRun</code> can get stuck when resource placement fails on some clusters. Getting the updateRun will show the cluster name and stage that is in stuck state:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>$ kubectl get csur example-run -o yaml
</span></span><span style=display:flex><span>...
</span></span><span style=display:flex><span>status:
</span></span><span style=display:flex><span>  conditions:
</span></span><span style=display:flex><span>  - lastTransitionTime: <span style=color:#4e9a06>&#34;2025-05-13T23:15:35Z&#34;</span>
</span></span><span style=display:flex><span>    message: ClusterStagedUpdateRun initialized successfully
</span></span><span style=display:flex><span>    observedGeneration: <span style=color:#0000cf;font-weight:700>1</span>
</span></span><span style=display:flex><span>    reason: UpdateRunInitializedSuccessfully
</span></span><span style=display:flex><span>    status: <span style=color:#4e9a06>&#34;True&#34;</span>
</span></span><span style=display:flex><span>    type: Initialized
</span></span><span style=display:flex><span>  - lastTransitionTime: <span style=color:#4e9a06>&#34;2025-05-13T23:21:18Z&#34;</span>
</span></span><span style=display:flex><span>    message: The updateRun is stuck waiting <span style=color:#204a87;font-weight:700>for</span> cluster member1 in stage staging to
</span></span><span style=display:flex><span>      finish updating, please check crp status <span style=color:#204a87;font-weight:700>for</span> potential errors
</span></span><span style=display:flex><span>    observedGeneration: <span style=color:#0000cf;font-weight:700>1</span>
</span></span><span style=display:flex><span>    reason: UpdateRunStuck
</span></span><span style=display:flex><span>    status: <span style=color:#4e9a06>&#34;False&#34;</span>
</span></span><span style=display:flex><span>    type: Progressing
</span></span><span style=display:flex><span>...
</span></span></code></pre></div><p>The message shows that the updateRun is stuck waiting for the cluster <code>member1</code> in stage <code>staging</code> to finish releasing.
The updateRun controller rolls resources to a member cluster by updating its corresponding binding. It then checks periodically
whether the update has completed or not. If the binding is still not available after current default 5 minutes, updateRun
controller decides the rollout has stuck and reports the condition.</p><p>This usually indicates something wrong happened on the cluster or the resources have some issue. To further investigate, you can check the <code>ClusterResourcePlacement</code> status:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>$ kubectl describe crp example-placement
</span></span><span style=display:flex><span>...
</span></span><span style=display:flex><span> Placement Statuses:
</span></span><span style=display:flex><span>    Cluster Name:  member1
</span></span><span style=display:flex><span>    Conditions:
</span></span><span style=display:flex><span>      Last Transition Time:  2025-05-13T23:11:14Z
</span></span><span style=display:flex><span>      Message:               Successfully scheduled resources <span style=color:#204a87;font-weight:700>for</span> placement in <span style=color:#4e9a06>&#34;member1&#34;</span> <span style=color:#ce5c00;font-weight:700>(</span>affinity score: 0, topology spread score: 0<span style=color:#ce5c00;font-weight:700>)</span>: picked by scheduling policy
</span></span><span style=display:flex><span>      Observed Generation:   <span style=color:#0000cf;font-weight:700>1</span>
</span></span><span style=display:flex><span>      Reason:                Scheduled
</span></span><span style=display:flex><span>      Status:                True
</span></span><span style=display:flex><span>      Type:                  Scheduled
</span></span><span style=display:flex><span>      Last Transition Time:  2025-05-13T23:15:35Z
</span></span><span style=display:flex><span>      Message:               Detected the new changes on the resources and started the rollout process, resourceSnapshotIndex: 0, clusterStagedUpdateRun: example-run
</span></span><span style=display:flex><span>      Observed Generation:   <span style=color:#0000cf;font-weight:700>1</span>
</span></span><span style=display:flex><span>      Reason:                RolloutStarted
</span></span><span style=display:flex><span>      Status:                True
</span></span><span style=display:flex><span>      Type:                  RolloutStarted
</span></span><span style=display:flex><span>      Last Transition Time:  2025-05-13T23:15:35Z
</span></span><span style=display:flex><span>      Message:               No override rules are configured <span style=color:#204a87;font-weight:700>for</span> the selected resources
</span></span><span style=display:flex><span>      Observed Generation:   <span style=color:#0000cf;font-weight:700>1</span>
</span></span><span style=display:flex><span>      Reason:                NoOverrideSpecified
</span></span><span style=display:flex><span>      Status:                True
</span></span><span style=display:flex><span>      Type:                  Overridden
</span></span><span style=display:flex><span>      Last Transition Time:  2025-05-13T23:15:35Z
</span></span><span style=display:flex><span>      Message:               All of the works are synchronized to the latest
</span></span><span style=display:flex><span>      Observed Generation:   <span style=color:#0000cf;font-weight:700>1</span>
</span></span><span style=display:flex><span>      Reason:                AllWorkSynced
</span></span><span style=display:flex><span>      Status:                True
</span></span><span style=display:flex><span>      Type:                  WorkSynchronized
</span></span><span style=display:flex><span>      Last Transition Time:  2025-05-13T23:15:35Z
</span></span><span style=display:flex><span>      Message:               All corresponding work objects are applied
</span></span><span style=display:flex><span>      Observed Generation:   <span style=color:#0000cf;font-weight:700>1</span>
</span></span><span style=display:flex><span>      Reason:                AllWorkHaveBeenApplied
</span></span><span style=display:flex><span>      Status:                True
</span></span><span style=display:flex><span>      Type:                  Applied
</span></span><span style=display:flex><span>      Last Transition Time:  2025-05-13T23:15:35Z
</span></span><span style=display:flex><span>      Message:               Work object example-placement-work-configmap-c5971133-2779-4f6f-8681-3e05c4458c82 is not yet available
</span></span><span style=display:flex><span>      Observed Generation:   <span style=color:#0000cf;font-weight:700>1</span>
</span></span><span style=display:flex><span>      Reason:                NotAllWorkAreAvailable
</span></span><span style=display:flex><span>      Status:                False
</span></span><span style=display:flex><span>      Type:                  Available
</span></span><span style=display:flex><span>    Failed Placements:
</span></span><span style=display:flex><span>      Condition:
</span></span><span style=display:flex><span>        Last Transition Time:  2025-05-13T23:15:35Z
</span></span><span style=display:flex><span>        Message:               Manifest is trackable but not available yet
</span></span><span style=display:flex><span>        Observed Generation:   <span style=color:#0000cf;font-weight:700>1</span>
</span></span><span style=display:flex><span>        Reason:                ManifestNotAvailableYet
</span></span><span style=display:flex><span>        Status:                False
</span></span><span style=display:flex><span>        Type:                  Available
</span></span><span style=display:flex><span>      Envelope:
</span></span><span style=display:flex><span>        Name:       envelope-nginx-deploy
</span></span><span style=display:flex><span>        Namespace:  test-namespace
</span></span><span style=display:flex><span>        Type:       ConfigMap
</span></span><span style=display:flex><span>      Group:        apps
</span></span><span style=display:flex><span>      Kind:         Deployment
</span></span><span style=display:flex><span>      Name:         nginx
</span></span><span style=display:flex><span>      Namespace:    test-namespace
</span></span><span style=display:flex><span>      Version:      v1
</span></span><span style=display:flex><span>...
</span></span></code></pre></div><p>The <code>Applied</code> condition is <code>False</code> and says not all work have been applied. And in the &ldquo;failed placements&rdquo; section, it shows
the <code>nginx</code> deployment wrapped by <code>envelope-nginx-deploy</code> configMap is not ready. Check from <code>member1</code> cluster and we can see
there&rsquo;s image pull failure:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>kubectl config use-context member1
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>kubectl get deploy -n test-namespace
</span></span><span style=display:flex><span>NAME    READY   UP-TO-DATE   AVAILABLE   AGE
</span></span><span style=display:flex><span>nginx   0/1     <span style=color:#0000cf;font-weight:700>1</span>            <span style=color:#0000cf;font-weight:700>0</span>           16m
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>kubectl get pods -n test-namespace
</span></span><span style=display:flex><span>NAME                     READY   STATUS         RESTARTS   AGE
</span></span><span style=display:flex><span>nginx-69b9cb5485-sw24b   0/1     ErrImagePull   <span style=color:#0000cf;font-weight:700>0</span>          16m
</span></span></code></pre></div><p>For more debugging instructions, you can refer to <a href=/docs/troubleshooting/clusterresourceplacement/>ClusterResourcePlacement TSG</a>.</p><p>After resolving the issue, you can create always create a new updateRun to restart the rollout. Stuck updateRuns can be deleted.</p><style>.feedback--answer{display:inline-block}.feedback--answer-no{margin-left:1em}.feedback--response{display:none;margin-top:1em}.feedback--response__visible{display:block}</style><div class=d-print-none><h2 class=feedback--title>Feedback</h2><p class=feedback--question>Was this page helpful?</p><button class="btn btn-primary mb-4 feedback--answer feedback--answer-yes">Yes</button>
<button class="btn btn-primary mb-4 feedback--answer feedback--answer-no">No</button><p class="feedback--response feedback--response-yes">Glad to hear it! Please <a href=https://github.com/kubefleet-dev/website/issues/new>tell us how we can further improve</a>.</p><p class="feedback--response feedback--response-no">Sorry to hear that. Please <a href=hhttps://github.com/kubefleet-dev/website/issues/new>tell us how we can fix the experience for you</a>.</p></div><script>const yesButton=document.querySelector(".feedback--answer-yes"),noButton=document.querySelector(".feedback--answer-no"),yesResponse=document.querySelector(".feedback--response-yes"),noResponse=document.querySelector(".feedback--response-no"),disableButtons=()=>{yesButton.disabled=!0,noButton.disabled=!0},sendFeedback=e=>{if(typeof gtag!="function")return;gtag("event","page_helpful",{event_category:"Helpful",event_label:window.location.pathname,value:e})};yesButton.addEventListener("click",()=>{yesResponse.classList.add("feedback--response__visible"),disableButtons(),sendFeedback(100)}),noButton.addEventListener("click",()=>{noResponse.classList.add("feedback--response__visible"),disableButtons(),sendFeedback(0)})</script><br></div></main></div></div><footer class="td-footer row d-print-none"><div class=container-fluid><div class="row mx-md-2"><div class="td-footer__left col-6 col-sm-4 order-sm-1"></div><div class="td-footer__right col-6 col-sm-4 order-sm-3"><ul class=td-footer__links-list><li class=td-footer__links-item data-bs-toggle=tooltip title=GitHub aria-label=GitHub><a target=_blank rel=noopener href=https://github.com/kubefleet-dev/kubefleet aria-label=GitHub><i class="fab fa-github"></i></a></li></ul></div><div class="td-footer__center col-12 col-sm-4 py-2 order-sm-2"><span class=td-footer__copyright>&copy;
2025&ndash;2025
<span class=td-footer__authors>KubeFleet Contributors | The Linux Foundation® (TLF) has registered trademarks and uses trademarks. For a list of TLF trademarks, see <a href=https://www.linuxfoundation.org/trademark-usage/>Trademark Usage</a> | <a href=https://creativecommons.org/licenses/by/4.0>CC BY 4.0</a> |</span></span><span class=td-footer__all_rights_reserved>All Rights Reserved</span><span class=ms-2><a href=https://www.linuxfoundation.org/legal/privacy-policy target=_blank rel=noopener>Privacy Policy</a></span></div></div></div></footer></div><script src=/js/main.min.032ba2ecbd3ce89b96bffcfec71c5da352125ee752e9873c3e0098f7c32a6497.js integrity="sha256-Ayui7L086JuWv/z+xxxdo1ISXudS6Yc8PgCY98MqZJc=" crossorigin=anonymous></script><script defer src=/js/click-to-copy.min.73478a7d4807698aed7e355eb23f9890ca18fea3158604c8471746d046702bad.js integrity="sha256-c0eKfUgHaYrtfjVesj+YkMoY/qMVhgTIRxdG0EZwK60=" crossorigin=anonymous></script><script src=/js/tabpane-persist.js></script></body></html>